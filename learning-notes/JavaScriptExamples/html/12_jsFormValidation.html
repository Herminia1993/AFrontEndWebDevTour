<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>JS Form Validation</title>

    <script type="text/javascript">

        // 检查用户是否已填写表单中的必填（或必选）项目
        function validate_required(field, alerttxt) {
            with(field) {
                if (value == null || value == "") {
                    alert(alerttxt);
                    return false
                } else {
                    return true
                }
            }
        }

        // 输入的数据必须包含 @ 符号和点号(.)。同时，@ 不可以是邮件地址的首字符，并且 @ 之后需有至少一个点号
        function validate_email(field, alerttxt) {
            with(field) {
                atPosition = value.indexOf("@")
                dotPosition = value.lastIndexOf(".")

                if (atPosition < 1 || dotPosition - atPosition < 2) {
                    alert(alerttxt);
                    return false
                } else {
                    return true
                }
            }
        }


        function validate_form(thisform) {
            with(thisform) {
                if (validate_required(email, "Email must be filled out!") == false) {
                    email.focus();
                    return false
                }

                if (validate_email(email, "Not a valid e-mail address!") == false) {
                    email.focus();
                    return false
                }
            }
        }


    </script>
</head>

<body>
    <form action="submitpage.htm" onsubmit="return validate_form(this)" method="post">
        Email: <input type="text" name="email" size="30">
        <input type="submit" value="Submit">
    </form>
</body>

</html>
